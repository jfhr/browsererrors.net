<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Not found</title>
        <link rel="stylesheet" href="./index.css">
        <link rel="canonical" href="https://browsererrors.net/">
        <style>
            @media (min-width: 576px) {
                form[rel="search"] {
                    display: flex;
                    gap: var(--spacing);
                }
                form[rel="search"] button {
                    max-width: 6em;
                }
            }
        </style>
    </head>
    <body>
        <main>
            <h1>BrowserErrors.net</h1>
            <p>
                BrowserErrors.net provides details on error codes used in Google Chrome and Mozilla Firefox,
                from the source code of those browsers.
            </p>
            <p>
                <label for="code">
                    Enter a browser error code:
                </label>
            </p>
            <form action="search.php" rel="search">
                <input type="text" name="code" id="code" required autofocus>
                <button>Search</button>
            </form>
            <p>
                For example:
                <ul>
                    <li>
                        <small>
                            <a href="./error/NET::ERR_UNSAFE_PORT/">NET::ERR_UNSAFE_PORT</a>
                        </small>
                    </li>
                    <li>
                        <small>
                            <a href="./error/NET::ERR_CERT_SYMANTEC_LEGACY/">NET::ERR_CERT_SYMANTEC_LEGACY</a>
                        </small>
                    </li> 
                    <li>
                        <small>
                            <a href="./error/PR_ALREADY_INITIATED_ERROR/">PR_ALREADY_INITIATED_ERROR</a>
                        </small>
                    </li>
                </ul>
            </p>
        </main>
        <hr>
        <footer>
            <p>
                This website, except where otherwise noted, is licensed under the 
                <a href="" rel="license">
                    Creative Commons Zero License</a>.
                The source code is available 
                <a href="https://jfhr.de/source/jfhr/browsererrors.net">
                    on jfhr.de</a> or
                <a href="https://github.com/jfhr/browsererrors.net">
                    on GitHub.com</a>.
            </p>
        </footer>
        <script>
            /**
             * @param {string} code
             * @returns {string}
             */
            function fixErrorCode(code) {
                code = code.trim();
                if (code.startsWith('ERR_')) {
                    code = 'NET::' + code;
                }
                return code;
            }

            /** @type {HTMLFormElement} */
            const form = document.querySelector('form[rel="search"]');
            form.addEventListener('submit', event => {
                event.preventDefault();
                const data = new FormData(form);
                if (!data.has('code')) {
                    return;
                }
                const code = fixErrorCode(data.get('code'));
                location.href = `./error/${code}/`;
            });
        </script>
    </body>
</html>
